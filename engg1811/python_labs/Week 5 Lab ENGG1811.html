<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <title>Week 5 Lab ENGG1811</title>
    <meta name="Author" content="Geoff Whale">
    <meta name="Organisation" content="The University of New South Wales">
    <meta name="Department" content="School of Computer Science &amp; Engineering">
    <meta name="Keywords" content="">
    <meta name="Description" content="OpenOffice Basic lab: Functions and Selection">
    <meta name="ReleaseDate" content="2011-04-07">
    <meta name="ModifiedDate" content="2014-04-01">
    <!-- 
<LINK rel="stylesheet" href="http://my.unsw.edu.au/styles/myunsw.css" TYPE="text/css" > -->
    <style>
h3 { color:darkblue }
span.redbold { color: rgb(204, 0, 0); font-weight: bold; }
.eqn { font-family:"Times" }
.span.comment { color: rgb(0, 204, 0); font-style:italic; }
.span.key { color: rgb(0, 0, 204); font-weight: bold; }
</style></head>
  <body>
    <h2>ENGG1811 Lab 05: For, list of lists, heart beat counting </h2>
    <h3>Objectives</h3>
    <p>After completing this lab, students should be able to</p>
    <ul>
      <li>Write for-loops&nbsp; </li>
      <li>Work with list of lists </li>
      <li>Applying programming to solve a problem </li>
    </ul>
    <h3>Assessment</h3>
    <p>This lab consists of Parts A,&nbsp; B and C. </p>
    <p>You are expected to complete all the three parts and show them to your
      tutor. Remember you must be ready for some assessment <b>half an hour
        before</b> the end of the class.  </p>



    <p> For all the programs, we expect that you choose informative variable
      names and document your program. There is also an <a target="_blank" href="https://www.cse.unsw.edu.au/~en1811/21T1/lab_assess/index.php">online
        assessment question </a> which is worth 1 mark.  </p>


    <h3>Getting Started <br>
    </h3>
    <p>We suggest that you create a folder called lab05 to keep all the files
      for this lab. </p>

    <p></p>
    <hr style="height: 1pt; color: white;">
    <h3>Part A: Cumulative sum</h3>
    <p>Your task is to write a Python program that works on a Python list of
      numbers. Assume that you are given a Python list with float type and we
      will refer to this list as num_list. Your program will use num_list to
      produce another Python list, which we will refer to as
      cumulative_sum_list. These two lists are expected to have the same length,
      and the entries these two lists are related by:</p>
    <p>cumulative_sum_list[0] = num_list[0] </p>
    <p>cumulative_sum_list[1] = num_list[0] + num_list[1] </p>
    <p>cumulative_sum_list[2] = num_list[0] + num_list[1] + num_list[2] </p>
    <p>cumulative_sum_list[3] = num_list[0] + num_list[1] + num_list[2] +
      num_list[3] </p>
    <p>and so on. </p>
    <p>Note that you can realise your program with a for-loop. As an example,
      num_list = [1.5, 2.4, 6.5] should return cumulative_sum_list = [1.5, 3.9,
      10.4]. </p>
    <p>If you have difficulty, think about the problem of summing up a sequence
      of numbers in your head, which you did in the lecture. For the problem in
      the lecture, you were only interested in summing up all the numbers in the
      sequence. However, here, you also want the intermediate results too. </p>
    <hr style="height: 2pt; color: white;">
    <h3><a name="B">Part B: List of lists</a></h3>
    <p></p>
    <p>The aim of Part B is to learn to work with list of lists. You may want to
      open the file <a href="https://www.cse.unsw.edu.au/~en1811/21T1/labs/lab05/lab05b_prelim.py" target="_blank">lab05b_prelim.py</a>
      in the editor so that you can follow the task description. The first part
      of the file lab05b_prelim.py defines a variable called datasets. The
      variable datasets is a list of 4 lists. </p>
    <p>This part consists of 2 tasks. </p>
    <p><u>Task 1</u>: We ask you to type the following commands in the console
      and observe the output. This is to get yourselves familiarised with
      indexing in the list of lists as well as list processing.</p>
    <ol>
      <li>datasets[0]</li>
      <li>datasets[2]</li>
      <li>datasets[1][3]</li>
      <li>datasets[2][6]</li>
      <li>len(datasets)</li>
      <li>max(datasets[2])</li>
      <li>len(datasets[3])</li>
    </ol>
    <p>Note that list processing is covered in Week 3A's lecture. See the Python
      example file list_processing.py in Week 3's lecture (filed under
      code_prelim_3A). </p>
    <p><u>Task 2</u>:&nbsp;</p>
    <p>For this task, you are asked to create a list called summary_list. The
      number of entries in summary_list is the same as the number of lists in
      the variable datasets. The entries of the list summary_list is computed as
      follows:</p>
    <p>summary_list[0] = minimum value in datasets[0] / number of entries in
      datasets[0]</p>
    <p>summary_list[1] = minimum value in datasets[1] / number of entries in
      datasets[1]</p>
    <p>and so on. </p>
    <p>You are asked to write the Python code to compute summary_list
      automatically from the variable datasets. You can complete your work in
      lab05b_prelim.py. Note that your code should be able to work with any
      variable datasets which is a list of lists of numbers. That is, if the
      contents of the variable datasets change, then your code should still
      compute the correct summary_list. You can test that by
      commenting/uncommenting Lines 10-15 in the file to change the number of
      lists within the list of lists. </p>
    <h3></h3>
    <hr style="height: 3pt; color: white;">
    <h3>Part C: Counting heart beat</h3>
    <p>In the lecture, we counted the number of heart beats by counting the
      number of peaks whose value exceeds a threshold. In this exercise, you
      will use a <b>different</b> method to count the number of heart beats. We
      will describe the method shortly. Before reading on, you should download
      these three files: <a href="https://www.cse.unsw.edu.au/~en1811/21T1/labs/lab05/lab05c_prelim.py" target="_blank">lab05c_prelim.py</a>,
      <a href="https://www.cse.unsw.edu.au/~en1811/21T1/labs/lab05/time_data_complete.txt" target="_blank">time_data_complete.txt</a>
      and <a href="https://www.cse.unsw.edu.au/~en1811/21T1/labs/lab05/voltage_data_complete.txt" target="_blank">voltage_data_complete.txt</a>
      (note: right click to download). We suggest that you open lab05c_prelim.py
      in the Spyder editor so that you can follow the description below. </p>
    <h4><span style="font-weight: normal;">The first step of data analysis is
        very often to plot the data. The first part of the Python file </span><span style="font-weight: normal;">lab05c_prelim.py
        loads the data and stores the data in two lists. The sampling time
        instants and voltage values are stored in, respectively, the variables
        time_list and voltage_list. The entries of these two lists are floats. <br>
      </span></h4>
    <h4><span style="font-weight: normal;">If you run lab05c_prelim, it plots
        voltage (y-axis) versus time (x-axis). You can see the oscillatory
        pattern of the voltage. After plotting the graph, you can see that the
        number of heart beats is fairly large. You can manually count them (if
        you really want to) but it is easy to make a mistake. What you really
        want to is to get the computer to count them for you. <br>
      </span></h4>
    <h4><span style="font-weight: normal;">For counting, you will be using a
        threshold voltage of 3V. </span><span style="font-weight: normal;">In
        this exercise, you will use the following criterion for counting: </span><br>
      <span style="font-weight: normal;"> </span> </h4>
    <ul>
      <li>Number of heart beats = number of times the voltage crosses the 3V
        threshold and is increasing </li>
    </ul>
    <p> For example, the following plot shows the voltage from 0s to 3s. The
      crosses show the actual data points and we have linked the data points
      using dashed line. The solid red circles in the plot indicate the time
      instants that the voltage crosses the 3V threshold and is increasing.
      These are upwards crossings of a threshold. </p>
    <img src="Week%205%20Lab%20ENGG1811_files/threshold_crossing.png" alt="">
    <p>The first job that you need to do is to translate the condition "the
      voltage crosses the 3V threshold and is increasing" into a logical
      condition that the you can use to determine whether these crossings have
      occurred. You may recall that we did something similar in the lecture
      where we translated the condition "Is it a peak?" into a logical
      condition. Ultimately, this is an exercise in translating a condition
      expressed in words to a logical expression that computer programs can
      understand. <br>
      <br>
      In order to determine whether an upward crossing has occurred, you will
      need to look at two consecutive data points at a time. (Note: for
      determining a peak, we need to look at three consecutive data points at a
      time.) </p>
    <p>You can use the above picture as a guide. You will see four examples of
      two consecutive data points satisfying the criterion "the voltage crosses
      the 3V threshold and is increasing", and the rest do not. You may want to
      draw these situations on a piece of paper. This will help you to see what
      the logical condition you need to use to distinguish between whether the
      criterion "the voltage crosses the 3V threshold and is increasing" is true
      or not. <br>
      <br>
      After you have derived the logical condition, you may want to proceed to
      plan, and then write a program that does the counting for you. It is
      always a good practice to check what you have derived is correct. Please
      do so. A method that you can use in this situation is to select a section
      of the data, plot it and count the number of heart beats in the chosen
      section and compare it against the answer that your method gives. You can
      get a section of data by using slicing that we discussed in the lecture.
      You can repeat this for a few different sections. </p>
    <p> The number of heart beats in the complete data sequence is between 75
      and 80; your tutor knows the exact answer. <br>
    </p>
    <p>Remark 1: In the lecture, we discuss a different methods to count heart
      beats. The method there is to count the number of peaks whose value
      exceeds a threshold. If you have completed the lab, you can try to apply
      this method to this data series, you will find that you have less than 75
      beats. This is because a section of the data series does not conform to
      our assumption of how a peak should behave. The issue is in the last five
      seconds of the data. We encourage you to take a look and discover what the
      problem is. You may also discuss with your classmates on how you should
      fix the problem. </p>
    <p> Remark 2: You may ask whether you could have used the downward crossings
      instead. Yes, you could have. We have made an arbitrary choice for this
      Exercise. </p>
    <hr style="height: 2px; color: white;">
    <p><b>At the End of the Lab</b> </p>
    <p style="color: rgb(0, 0, 0); font-family: -webkit-standard; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">You
      should be able to show your tutor the three exercises. You should be
      comfortable with using<span class="Apple-converted-space"> for-loops and
        list of lists. <br>
      </span></p>
    <p style="color: rgb(0, 0, 0); font-family: -webkit-standard; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">Finally,
      do not forget to complete your online multiple choice question if you have
      not done it yet.&nbsp;<span class="Apple-converted-space">&nbsp;</span></p>
    <p style="color: rgb(0, 0, 0); font-family: -webkit-standard; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">If
      you have completed everything, please do not forget to logout. Simply
      double click on the "Log Out" icon</p>
    <p style="color: rgb(0, 0, 0); font-family: -webkit-standard; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"></p>
    <p> </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p> </p>
    <p><br>
    </p>
    <p> </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <br>
  

</body></html>